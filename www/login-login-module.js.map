{"version":3,"sources":["webpack:///./src/app/login/login.module.ts","webpack:///./src/app/login/login.page.html","webpack:///./src/app/login/login.page.scss","webpack:///./src/app/login/login.page.ts"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \"<ion-content padding>\\n  Prueba registro con facebook.\\n  <button ion-button block (click)=\\\"doFbLogin()\\\">Login con facebook</button>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { Facebook } from '@ionic-native/facebook/ngx';\nimport { Router } from '@angular/router';\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\nimport { LoadingController } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  FB_APP_ID: number = 382437569196107;\n\n  constructor(\n\t\tprivate fb: Facebook,\n\t\tprivate nativeStorage: NativeStorage,\n\t\tpublic loadingController: LoadingController,\n\t\tprivate router: Router\n  ) { }\n\n  ngOnInit() {\n  }\n\n  async doFbLogin(){\n\t\tconst loading = await this.loadingController.create({\n\t\t\tmessage: 'Please wait...'\n\t\t});\n\t\tthis.presentLoading(loading);\n\t\tlet permissions = new Array<string>();\n\n\t\t//the permissions your facebook app needs from the user\n    permissions = [\"public_profile\", \"email\"];\n\n\t\tthis.fb.login(permissions)\n\t\t.then(response =>{\n\t\t\tlet userId = response.authResponse.userID;\n\n\t\t\t//Getting name and gender properties\n\t\t\tthis.fb.api(\"/me?fields=name,email\", permissions)\n\t\t\t.then(user =>{\n\t\t\t\tuser.picture = \"https://graph.facebook.com/\" + userId + \"/picture?type=large\";\n\t\t\t\t//now we have the users info, let's save it in the NativeStorage\n\t\t\t\tthis.nativeStorage.setItem('facebook_user',\n\t\t\t\t{\n\t\t\t\t\tname: user.name,\n\t\t\t\t\temail: user.email,\n\t\t\t\t\tpicture: user.picture\n\t\t\t\t})\n\t\t\t\t.then(() =>{\n\t\t\t\t\t//this.router.navigate([\"/tabs/profile\"]);\n\t\t\t\t\tthis.router.navigateByUrl('/tabs');\n\n\t\t\t\t\tloading.dismiss();\n\t\t\t\t}, error =>{\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t\tloading.dismiss();\n\t\t\t\t})\n\t\t\t})\n\t\t}, error =>{\n\t\t\tconsole.log(error);\n\t\t\tloading.dismiss();\n\t\t});\n\t}\n\n  async presentLoading(loading) {\n\t\treturn await loading.present();\n  }\n  \n  doFbLogout(){\n\t\tthis.fb.logout()\n\t\t.then(res =>{\n\t\t\t//user logged out so we will remove him from the NativeStorage\n\t\t\tthis.nativeStorage.remove('facebook_user');\n\t\t\tthis.router.navigate([\"/login\"]);\n\t\t}, error =>{\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n}\n"],"sourceRoot":""}